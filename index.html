<!DOCTYPE html>
<html lang="id">
<head>
Â  Â  <meta charset="UTF-8">
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  Â  <title>Dulpan Adi Saragih â€¢ Support</title>
Â  Â  <script src="https://cdn.tailwindcss.com"></script>
Â  Â  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcode-generator/1.4.4/qrcode.min.js"></script>
Â  Â  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
Â  Â  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
Â  Â  
Â  Â  <link rel="icon" type="image/png" href="favicon/favicon-96x96.png" sizes="96x96" />
Â  Â  <link rel="icon" type="image/svg+xml" href="favicon/favicon.svg" />
Â  Â  <link rel="shortcut icon" href="favicon/favicon.ico" />
Â  Â  <link rel="apple-touch-icon" sizes="180x180" href="favicon/apple-touch-icon.png" />
Â  Â  <meta name="apple-mobile-web-app-title" content="PAY TO DULPAN AS" />
Â  Â  <link rel="manifest" href="favicon/site.webmanifest" />
Â  Â  <style>
Â  Â  Â  Â  :root {
Â  Â  Â  Â  Â  Â  --primary-gradient: linear-gradient(135deg, #6366F1, #3B82F6);
Â  Â  Â  Â  Â  Â  --secondary-gradient: linear-gradient(135deg, #10B981, #34D399);
Â  Â  Â  Â  }
Â  Â  Â  Â  body { 
Â  Â  Â  Â  Â  Â  font-family: 'Inter', sans-serif;
Â  Â  Â  Â  Â  Â  background: linear-gradient(160deg, #0F172A, #1E293B, #0F172A);
Â  Â  Â  Â  Â  Â  min-height: 100vh;
Â  Â  Â  Â  Â  Â  overflow-x: hidden;
Â  Â  Â  Â  }
Â  Â  Â  Â  .glow-button:hover {
Â  Â  Â  Â  Â  Â  box-shadow: 0px 0px 15px 3px rgba(99, 102, 241, 0.8);
Â  Â  Â  Â  Â  Â  transform: scale(1.05);
Â  Â  Â  Â  }
Â  Â  Â  Â  .loading-bar {
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  height: 5px;
Â  Â  Â  Â  Â  Â  background: linear-gradient(to right, #6366F1, #3B82F6);
Â  Â  Â  Â  Â  Â  animation: loading 2s linear infinite;
Â  Â  Â  Â  }
Â  Â  Â  Â  @keyframes loading {
Â  Â  Â  Â  Â  Â  0% { transform: translateX(-100%); }
Â  Â  Â  Â  Â  Â  100% { transform: translateX(100%); }
Â  Â  Â  Â  }

Â  Â  Â  Â  .payment-button {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  background: linear-gradient(135deg, #6a11cb, #2575fc);
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  border-radius: 8px;
Â  Â  Â  Â  Â  Â  padding: 5px 15px;
Â  Â  Â  Â  Â  Â  font-size: 12px;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 4px rgba(0, 0, 0, 0.1);
Â  Â  Â  Â  Â  Â  transition: transform 0.2s, box-shadow 0.2s; 
Â  Â  Â  Â  }
Â  Â  Â  Â  .payment-button:hover {
Â  Â  Â  Â  Â  Â  transform: translateY(-3px);
Â  Â  Â  Â  Â  Â  box-shadow: 0 6px 10px rgba(0, 0, 0, 0.2);
Â  Â  Â  Â  }
Â  Â  Â  Â  .payment-button svg {
Â  Â  Â  Â  Â  Â  margin-right: 10px;
Â  Â  Â  Â  Â  Â  fill: white;
Â  Â  Â  Â  Â  Â  width: 20px;
Â  Â  Â  Â  Â  Â  height: 20px;
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  .animate-pulse-light {
Â  Â  Â  Â  Â  Â  animation: pulse-light 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
Â  Â  Â  Â  }
Â  Â  Â  Â  @keyframes pulse-light {
Â  Â  Â  Â  Â  Â  0%, 100% {
Â  Â  Â  Â  Â  Â  Â  Â  opacity: 1;
Â  Â  Â  Â  Â  Â  Â  Â  box-shadow: 0px 0px 0px 0px rgba(99, 102, 241, 0.7);
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  50% {
Â  Â  Â  Â  Â  Â  Â  Â  opacity: 0.7;
Â  Â  Â  Â  Â  Â  Â  Â  box-shadow: 0px 0px 10px 5px rgba(99, 102, 241, 0.4);
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  .manual-payment-container {
Â  Â  Â  Â  Â  Â  position: relative;
Â  Â  Â  Â  Â  Â  overflow: hidden;
Â  Â  Â  Â  }
Â  Â  Â  Â  .card-slider {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  transition: transform 0.5s cubic-bezier(0.25, 0.1, 0.25, 1);
Â  Â  Â  Â  }
Â  Â  Â  Â  .payment-card-new {
Â  Â  Â  Â  Â  Â  flex-shrink: 0;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  padding: 2.5rem;
Â  Â  Â  Â  Â  Â  border-radius: 1.5rem;
Â  Â  Â  Â  Â  Â  background: linear-gradient(160deg, #0F172A, #1E293B, #0F172A);
Â  Â  Â  Â  Â  Â  border: 1px solid transparent;
Â  Â  Â  Â  Â  Â  position: relative;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 15px rgba(0,0,0,0.5);
Â  Â  Â  Â  Â  Â  transition: all 0.5s ease-in-out;
Â  Â  Â  Â  }
Â  Â  Â  Â  .payment-card-new.active {
Â  Â  Â  Â  Â  Â  box-shadow: 0 0 25px rgba(99, 102, 241, 0.5);
Â  Â  Â  Â  Â  Â  transform: scale(1.05);
Â  Â  Â  Â  }
Â  Â  Â  Â  .payment-card-new:hover {
Â  Â  Â  Â  Â  Â  transform: scale(1.02);
Â  Â  Â  Â  Â  Â  box-shadow: 0 0 20px rgba(99, 102, 241, 0.3);
Â  Â  Â  Â  }

Â  Â  Â  Â  .slider-nav {
Â  Â  Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  Â  Â  top: 50%;
Â  Â  Â  Â  Â  Â  transform: translateY(-50%);
Â  Â  Â  Â  Â  Â  z-index: 10;
Â  Â  Â  Â  }

Â  Â  Â  Â  .modal-container {
Â  Â  Â  Â  Â  Â  position: relative;
Â  Â  Â  Â  Â  Â  max-width: 28rem;
Â  Â  Â  Â  Â  Â  margin: 0 auto;
Â  Â  Â  Â  Â  Â  background: linear-gradient(145deg, #1E293B, #0F172A);
Â  Â  Â  Â  Â  Â  border: 1px solid #4F46E5;
Â  Â  Â  Â  }
Â  Â  Â  Â  .close-button-container {
Â  Â  Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  Â  Â  top: -2rem;
Â  Â  Â  Â  Â  Â  right: -2rem;
Â  Â  Â  Â  Â  Â  z-index: 60;
Â  Â  Â  Â  Â  Â  transition: transform 0.3s ease-in-out;
Â  Â  Â  Â  }
Â  Â  Â  Â  .close-button-container:hover {
Â  Â  Â  Â  Â  Â  transform: scale(1.2);
Â  Â  Â  Â  }
Â  Â  Â  Â  .swal2-confirm {
Â  Â  Â  Â  Â  Â  background-color: #25D366 !important;
Â  Â  Â  Â  }
Â  Â  Â  Â  .swal2-styled.swal2-confirm {
Â  Â  Â  Â  Â  Â  background-color: #25D366 !important;
Â  Â  Â  Â  Â  Â  color: #fff !important;
Â  Â  Â  Â  }
Â  Â  Â  Â  .swal2-styled.swal2-confirm:hover {
Â  Â  Â  Â  Â  Â  background-color: #128C7E !important;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Gaya khusus untuk pop-up QR */
Â  Â  Â  Â  .swal2-popup.qris-modal {
Â  Â  Â  Â  Â  Â  background: linear-gradient(145deg, #1E293B, #0F172A) !important;
Â  Â  Â  Â  Â  Â  border: 1px solid #4F46E5 !important;
Â  Â  Â  Â  Â  Â  border-radius: 1.5rem !important;
Â  Â  Â  Â  Â  Â  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5) !important;
Â  Â  Â  Â  Â  Â  padding: 2.5rem !important;
            max-width: 90% !important; /* Batasi lebar pop-up di mobile */
            font-size: 1rem !important;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Posisi tombol close (X) di luar modal QR */
Â  Â  Â  Â  .swal2-container.swal2-center > .swal2-popup > .swal2-close {
Â  Â  Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  Â  Â  top: -1.5rem;
Â  Â  Â  Â  Â  Â  right: -1.5rem;
Â  Â  Â  Â  Â  Â  background-color: transparent;
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  font-size: 2.5rem;
Â  Â  Â  Â  Â  Â  color: #9CA3AF;
Â  Â  Â  Â  Â  Â  transition: transform 0.3s ease-in-out, color 0.3s ease-in-out;
Â  Â  Â  Â  Â  Â  z-index: 10;
Â  Â  Â  Â  Â  Â  padding: 0;
Â  Â  Â  Â  Â  Â  margin: 0;
Â  Â  Â  Â  }
Â  Â  Â  Â  .swal2-container.swal2-center > .swal2-popup > .swal2-close:hover {
Â  Â  Â  Â  Â  Â  color: #FFFFFF;
Â  Â  Â  Â  Â  Â  transform: scale(1.2);
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Styling untuk SVG di dalam tombol SweetAlert */
Â  Â  Â  Â  .swal2-styled .button-icon {
Â  Â  Â  Â  Â  Â  width: 20px;
Â  Â  Â  Â  Â  Â  height: 20px;
Â  Â  Â  Â  Â  Â  margin-right: 8px;
Â  Â  Â  Â  Â  Â  fill: currentColor;
Â  Â  Â  Â  Â  Â  vertical-align: middle;
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  /* Penyesuaian agar SVG dan teks sejajar */
Â  Â  Â  Â  .swal2-actions > button {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  }
Â  Â  Â  Â  .swal2-actions > button svg {
Â  Â  Â  Â  Â  Â  margin-right: 8px;
Â  Â  Â  Â  }

        /* Penyesuaian khusus untuk mode pembayaran manual di mobile */
        @media (max-width: 768px) {
            .modal-container {
                max-width: 95% !important;
                padding: 1.5rem !important;
            }
            .close-button-container {
                top: -1.5rem;
                right: 0.5rem;
            }
            .manual-payment-container {
                overflow-x: auto;
            }
            .card-slider {
                flex-wrap: nowrap;
                width: max-content;
            }
            .payment-card-new {
                padding: 1.5rem;
                margin-right: 1rem;
                width: 280px; /* Ukuran kartu agar bisa digeser */
            }
        }
    </style>
</head>

<body class="flex items-center justify-center p-4 relative">
    <div class="relative w-full max-w-md bg-slate-900/80 backdrop-blur-xl rounded-3xl p-8 shadow-2xl border border-indigo-500">
        <div class="text-center mb-8">
            <h1 class="text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 to-teal-300">Support Me</h1>
            <p class="text-gray-300 text-sm tracking-wide">Dulpan Adi Saragih</p>
        </div>

        <div class="space-y-4">
            <div>
                <label class="block text-sm font-medium text-gray-400 mb-2"><b>Nominal (IDR)</b></label>
                <div class="relative">
                    <input type="text" id="nominalInput" class="w-full px-4 py-3 bg-slate-800 text-gray-100 border border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 text-lg" placeholder="Masukkan Nominal" onkeyup="formatNominal(this)">
                    <span class="absolute right-4 top-1/2 -translate-y-1/2 text-gray-500">IDR</span>
                </div>
                <div class="block text-sm font-medium text-gray-600 mb-3"> Pembayaran via <i>Qris</i> minimal 1 Rupiah</div>
            </div>

            <div class="flex space-x-2">
                <button class="bg-indigo-600 text-white px-4 py-2 rounded-lg hover:opacity-90" onclick="setNominal(10000)">IDR 10.000</button>
                <button class="bg-indigo-600 text-white px-4 py-2 rounded-lg hover:opacity-90" onclick="setNominal(25000)">IDR 25.000</button>
                <button class="bg-indigo-600 text-white px-4 py-2 rounded-lg hover:opacity-90" onclick="setNominal(50000)">IDR 50.000</button>
            </div>
            <br>
            <button id="convertBtn" class="w-full bg-gradient-to-r from-indigo-600 to-teal-500 text-white py-3 rounded-xl hover:opacity-90 glow-button transition duration-300 text-lg font-semibold shadow-xl transform active:scale-95 animate-pulse-light">
                Pay with Qris
            </button>
            
            <br>
            <hr>
            <button class="payment-button" onclick="openManualPaymentModal()">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                <path d="M19 14V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zm-9-1c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm13-6v11c0 1.1-.9 2-2 2H4v-2h17V7h2z"/>
                </svg>
                Manual Payment
            </button>

            <div class="mt-6 text-center text-gray-400 text-sm">
                <p>Setiap <span class="font-bold text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 to-teal-300">Kontribusi</span> Membentuk <span class="font-bold text-transparent bg-clip-text bg-gradient-to-r from-teal-400 to-blue-500">Masa Depan</span></p>
            </div>

            <div class="mt-10 text-center text-gray-400 text-sm">
                <button onclick="location.href='https://lynk.id/dothebest._';">
                    <svg class="w-6 h-6 inline-block text-gray-500 hover:text-white transition-colors" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path d="M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"/>
                    </svg>
                </button>
            </div>
            
            <br>
            <div class="mt-6 text-center text-gray-400 text-sm">
                <p>Powered by ðŸ’Ž</p>
                <p><span class="font-bold text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 to-teal-300"><a href="https://www.dulpanadisaragih.my.id/">Dulpan Adi Saragih </a></span> || 
                <span class="font-bold text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 to-teal-300"><a href="https://www.instagram.com/dulpansrgih_">@dulpansrgih_ </a></span></p>
            </div>
        </div>
    </div>

<div id="manualPaymentModal" class="fixed inset-0 bg-slate-900/80 backdrop-blur-sm z-50 flex items-center justify-center hidden opacity-0 transition-opacity duration-300">
    <div class="modal-container relative mx-4 p-8 bg-gradient-to-br from-slate-900 to-gray-900 rounded-3xl shadow-2xl border border-indigo-600 transform scale-95 transition-transform duration-300">
        <div class="close-button-container">
            <button onclick="closeModal()" class="text-gray-400 hover:text-white transition-colors z-20">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
            </button>
        </div>
        
        <h2 class="text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 to-teal-300 text-center mb-4">Pilih Metode Pembayaran</h2>
        <p class="text-center text-gray-400 mb-8 max-w-md mx-auto">
            Selesaikan pembayaran Anda dengan mudah melalui pilihan bank atau e-wallet di bawah ini.
        </p>

        <div class="manual-payment-container relative overflow-hidden">
            <div id="cardSlider" class="card-slider">
                <div class="payment-card-new flex-shrink-0 w-full p-6 space-y-4">
                    <div class="h-16 w-auto mb-4 mx-auto flex items-center justify-center">
                        <img src="https://i.ibb.co/L5w2R00/bca.png" alt="BCA Logo" class="h-full">
                    </div>
                    <p class="text-md text-gray-300">Bank BCA</p>
                    <p class="font-extrabold text-white text-3xl mb-2">8340455018</p>
                    <p class="text-sm text-gray-400 mb-4">A/n: Dulpan Adi Saragih</p>
                    <button onclick="copyToClipboard('8340455018')" class="mt-auto px-8 py-3 bg-indigo-700 hover:bg-indigo-600 text-white rounded-lg flex items-center justify-center transition-colors">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg> Salin Nomor
                    </button>
                </div>
                
                <div class="payment-card-new flex-shrink-0 w-full p-6 space-y-4">
                    <div class="h-16 w-auto mb-4 mx-auto flex items-center justify-center">
                        <img src="https://i.ibb.co/V95wQ2Y/bri.png" alt="BRI Logo" class="h-full">
                    </div>
                    <p class="text-md text-gray-300">Bank BRI</p>
                    <p class="font-extrabold text-white text-3xl mb-2">718201003490502</p>
                    <p class="text-sm text-gray-400 mb-4">A/n: Dulpan Adi Saragih</p>
                    <button onclick="copyToClipboard('718201003490502')" class="mt-auto px-8 py-3 bg-indigo-700 hover:bg-indigo-600 text-white rounded-lg flex items-center justify-center transition-colors">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg> Salin Nomor
                    </button>
                </div>

                <div class="payment-card-new flex-shrink-0 w-full p-6 space-y-4">
                    <div class="h-16 w-auto mb-4 mx-auto flex items-center justify-center">
                        <img src="https://i.ibb.co/p30BwW0/dana.png" alt="DANA Logo" class="h-full">
                    </div>
                    <p class="text-md text-gray-300">DANA</p>
                    <p class="font-extrabold text-white text-3xl mb-2">081260840134</p>
                    <p class="text-sm text-gray-400 mb-4">A/n: Dulpan Adi Saragih</p>
                    <button onclick="copyToClipboard('081260840134')" class="mt-auto px-8 py-3 bg-indigo-700 hover:bg-indigo-600 text-white rounded-lg flex items-center justify-center transition-colors">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg> Salin Nomor
                    </button>
                </div>

                <div class="payment-card-new flex-shrink-0 w-full p-6 space-y-4">
                    <div class="h-16 w-auto mb-4 mx-auto flex items-center justify-center">
                        <img src="https://i.ibb.co/6P0xWqF/ovo-logo.png" alt="OVO Logo" class="h-full">
                    </div>
                    <p class="text-md text-gray-300">OVO</p>
                    <p class="font-extrabold text-white text-3xl mb-2">081260840134</p>
                    <p class="text-sm text-gray-400 mb-4">A/n: Dulpan Adi Saragih</p>
                    <button onclick="copyToClipboard('081260840134')" class="mt-auto px-8 py-3 bg-indigo-700 hover:bg-indigo-600 text-white rounded-lg flex items-center justify-center transition-colors">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg> Salin Nomor
                    </button>
                </div>

                <div class="payment-card-new flex-shrink-0 w-full p-6 space-y-4">
                    <div class="h-16 w-auto mb-4 mx-auto flex items-center justify-center">
                        <img src="https://i.ibb.co/9gP1b09/gopay-logo-D3739AE95F-seeklogo-com.png" alt="Gopay Logo" class="h-full">
                    </div>
                    <p class="text-md text-gray-300">Gopay</p>
                    <p class="font-extrabold text-white text-3xl mb-2">081260840134</p>
                    <p class="text-sm text-gray-400 mb-4">A/n: Dulpan Adi Saragih</p>
                    <button onclick="copyToClipboard('081260840134')" class="mt-auto px-8 py-3 bg-indigo-700 hover:bg-indigo-600 text-white rounded-lg flex items-center justify-center transition-colors">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg> Salin Nomor
                    </button>
                </div>

                <div class="payment-card-new flex-shrink-0 w-full p-6 space-y-4">
                    <div class="h-16 w-auto mb-4 mx-auto flex items-center justify-center">
                        <img src="https://i.ibb.co/X8X613f/qris.png" alt="QRIS Logo" class="h-full">
                    </div>
                    <p class="text-md text-gray-300">QRIS</p>
                    <p class="font-extrabold text-white text-3xl mb-2">081260840134</p>
                    <p class="text-sm text-gray-400 mb-4">A/n: Dulpan Adi Saragih</p>
                    <button onclick="copyToClipboard('081260840134')" class="mt-auto px-8 py-3 bg-indigo-700 hover:bg-indigo-600 text-white rounded-lg flex items-center justify-center transition-colors">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg> Salin Nomor
                    </button>
                </div>
            </div>

            <button onclick="moveSlider(-1)" class="slider-nav left-0 bg-slate-800/50 hover:bg-slate-700/70 p-3 rounded-full text-white mx-2">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg>
            </button>
            <button onclick="moveSlider(1)" class="slider-nav right-0 bg-slate-800/50 hover:bg-slate-700/70 p-3 rounded-full text-white mx-2">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg>
            </button>
            
            <div id="sliderDots" class="flex justify-center mt-6 space-x-2">
            </div>
        </div>
    </div>
</div>

<script>
    const STATIC_QRIS = "00020101021126690021ID.CO.BANKMANDIRI.WWW01189360000801165178860211711651788620303UMI51440014ID.CO.QRIS.WWW0215ID10222328889510303UMI5204573253033605802ID5918DULPAN ADI SARAGIH6012Sleman (Kab)61055528562070703A0163046EB4";
    const WHATSAPP_NUMBER = "6281260840134";

    function formatNominal(input) {
        let value = input.value.replace(/\D/g, '');
        if (value) {
            value = parseInt(value).toLocaleString('id-ID');
            input.value = value;
        }
    }

    function setNominal(value) {
        const input = document.getElementById('nominalInput');
        input.value = value.toLocaleString('id-ID');
    }

    function ConvertCRC16(str) {
        let crc = 0xFFFF;
        for (let c = 0; c < str.length; c++) {
            crc ^= str.charCodeAt(c) << 8;
            for (let i = 0; i < 8; i++) {
                crc = (crc & 0x8000) ? (crc << 1) ^ 0x1021 : crc << 1;
            }
        }
        return (crc & 0xFFFF).toString(16).toUpperCase().padStart(4, '0');
    }

    function generateQRCode(text) {
        const qr = qrcode(0, 'M');
        qr.addData(text);
        qr.make();

        const qrDataURL = qr.createDataURL(10);
        const nominalValue = document.getElementById('nominalInput').value;

        Swal.fire({
            title: 'Scan QR Code',
            html: `<div class="loading-bar"></div><br><p class="text-gray-600">QRIS Generate...</p>`,
            timer: 1000,
            timerProgressBar: true,
            didOpen: () => {
                Swal.showLoading();
            },
            willClose: () => {
                Swal.fire({
                    title: 'Scan QRIS di bawah ini',
                    html: `
                        <div class="flex flex-col items-center p-4">
                            <p class="text-gray-400 text-lg mb-2">Nominal Donasi Anda:</p>
                            <p class="font-bold text-white text-4xl mb-6 bg-clip-text bg-gradient-to-r from-indigo-400 to-teal-300 inline-block">Rp ${nominalValue}</p>
                            <img id="qrCodeImage" src="${qrDataURL}" alt="Kode QR" class="mx-auto border-4 border-white rounded-lg shadow-lg mb-6" style="max-width: 250px;">
                        </div>
                    `,
                    showCloseButton: true,
                    showConfirmButton: true,
                    showCancelButton: true,
                    confirmButtonText: `
                        <span class="flex items-center">
                            <svg class="button-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" clip-rule="evenodd" d="M12.0007 2C6.4777 2 2.0007 6.477 2.0007 12C2.0007 14.152 2.6727 16.208 3.8647 17.986L2.3087 22.383L7.0277 20.828C8.7957 21.666 10.8407 22.0007 12.0007 22.0007C17.5237 22.0007 22.0007 17.5237 22.0007 12.0007C22.0007 6.4777 17.5237 2 12.0007 2ZM17.1527 15.31C16.8227 15.932 14.5077 17.168 14.0757 17.29C13.6427 17.412 13.3157 17.412 11.2337 16.69C9.0777 15.968 7.6497 14.474 7.5457 14.341C7.4417 14.208 7.3377 13.982 7.0077 13.568C6.6787 13.153 6.0967 12.386 6.0967 11.226C6.0967 10.065 6.7777 9.878 7.0607 9.774C7.3437 9.67 7.7477 9.516 8.0037 9.516C8.2587 9.516 8.5137 9.516 8.6817 9.704C8.8507 9.891 9.0667 10.198 9.1707 10.435C9.2747 10.672 9.4427 10.966 9.3487 11.168C9.2547 11.371 9.1157 11.539 8.9477 11.726C8.7787 11.913 8.6507 12.067 8.5237 12.245C8.3957 12.423 7.8287 12.827 8.3957 13.754C8.9627 14.681 9.9407 15.006 10.1807 15.068C10.4207 15.13 10.6757 15.13 11.0057 14.943C11.3357 14.756 12.1857 14.28 12.4547 14.015C12.7237 13.75 13.1907 13.617 13.6237 13.795C14.0567 13.972 14.6787 14.28 14.9337 14.535C15.1887 14.79 15.3567 14.958 15.6037 15.08C15.8507 15.203 16.1957 15.203 16.5257 15.015C16.8557 14.828 17.0717 14.341 17.2037 14.098C17.3357 13.856 17.4397 13.75 17.5237 13.719C17.6077 13.688 17.8477 13.584 18.0647 13.688C18.2807 13.792 18.5207 14.217 18.2807 14.694C18.0407 15.171 17.4877 15.465 17.1527 15.31Z" fill="white"/>
                            </svg>
                            Konfirmasi via WA
                        </span>
                    `,
                    cancelButtonText: `
                        <span class="flex items-center">
                            <svg class="button-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" clip-rule="evenodd" d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z" fill="white"/>
                            </svg>
                            Download QR
                        </span>
                    `,
                    confirmButtonColor: '#25D366',
                    cancelButtonColor: '#007bff',
                    allowOutsideClick: false,
                    allowEscapeKey: false,
                    customClass: {
                        popup: 'qris-modal',
                        title: 'text-white text-3xl font-bold bg-clip-text bg-gradient-to-r from-indigo-400 to-teal-300',
                        htmlContainer: 'text-center',
                        closeButton: 'swal2-close',
                    },
                    didOpen: (modalElement) => {
                        const closeBtn = modalElement.querySelector('.swal2-close');
                        closeBtn.innerHTML = `<svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>`;
                    }
                }).then((result) => {
                    if (result.isConfirmed) {
                        const message = `Halo, saya telah melakukan donasi sebesar Rp ${nominalValue} melalui QRIS. Mohon konfirmasinya.`;
                        const whatsappURL = `https://wa.me/${WHATSAPP_NUMBER}?text=${encodeURIComponent(message)}`;
                        window.open(whatsappURL, '_blank');
                    } else if (result.dismiss === Swal.DismissReason.cancel) {
                        const link = document.createElement('a');
                        link.href = qrDataURL;
                        link.download = `QRIS_${nominalValue.replace(/\./g, '')}.png`;
                        document.body.appendChild(link);
                        link.click();
                        document.body.removeChild(link);
                    }
                });
            }
        });
    }

    function convertQRIS() {
        const nominalInput = document.getElementById('nominalInput');
        const qty = nominalInput.value.replace(/\D/g, '');

        if (!qty || isNaN(qty) || parseInt(qty) < 1) {
            Swal.fire({ icon: 'error', title: 'Nominal Tidak Valid', text: 'Masukkan angka nominal terlebih dahulu.', confirmButtonColor: '#3B82F6' });
            return;
        }

        Swal.fire({
            title: "Konfirmasi Donasi",
            text: `Anda akan mendonasikan IDR ${parseInt(qty).toLocaleString('id-ID')}. Lanjutkan?`,
            icon: "warning",
            showCancelButton: true,
            confirmButtonText: "Ya, lanjutkan!",
            cancelButtonText: "Batal",
            confirmButtonColor: "#10B981"
        }).then((result) => {
            if (result.isConfirmed) {
                let qris = STATIC_QRIS.slice(0, -4);
                let step1 = qris.replace("010211", "010212");
                let step2 = step1.split("5802ID");
                let uang = "54" + qty.length.toString().padStart(2, '0') + qty + "5802ID";
                const finalQR = step2[0].trim() + uang + step2[1].trim() + ConvertCRC16(step2[0] + uang + step2[1]);
                generateQRCode(finalQR);
            }
        });
    }

    function openManualPaymentModal() {
        const modal = document.getElementById('manualPaymentModal');
        modal.classList.remove('hidden');
        setTimeout(() => {
            modal.classList.remove('opacity-0');
            modal.querySelector('.transform').classList.remove('scale-95');
        }, 10);
    }

    function closeModal() {
        const modal = document.getElementById('manualPaymentModal');
        modal.classList.add('opacity-0');
        modal.querySelector('.transform').classList.add('scale-95');
        setTimeout(() => {
            modal.classList.add('hidden');
        }, 300);
    }

    function copyToClipboard(text) {
        navigator.clipboard.writeText(text).then(() => {
            Swal.fire({
                toast: true,
                position: 'top-end',
                icon: 'success',
                title: 'Berhasil disalin!',
                text: 'Nomor rekening/ponsel berhasil disalin.',
                showConfirmButton: false,
                timer: 2000,
                timerProgressBar: true,
                customClass: {
                    popup: 'bg-green-700/80 text-white'
                },
                background: 'none'
            });
        }).catch(err => {
            Swal.fire({
                icon: 'error',
                title: 'Gagal Menyalin',
                text: 'Terjadi kesalahan. Silakan coba salin manual.',
                confirmButtonColor: '#3B82F6'
            });
        });
    }

    let currentCardIndex = 0;
    let cards = [];
    let dots = [];
    
    function updateSlider() {
        const offset = -currentCardIndex * 100;
        const cardSlider = document.getElementById('cardSlider');
        if (cardSlider) {
            cardSlider.style.transform = `translateX(${offset}%)`;
        }

        cards.forEach((card, index) => {
            if (index === currentCardIndex) {
                card.classList.add('active');
            } else {
                card.classList.remove('active');
            }
        });
        
        dots.forEach((dot, index) => {
            if (index === currentCardIndex) {
                dot.classList.add('bg-indigo-500');
                dot.classList.remove('bg-gray-600');
            } else {
                dot.classList.add('bg-gray-600');
                dot.classList.remove('bg-indigo-500');
            }
        });
    }

    function moveSlider(direction) {
        currentCardIndex += direction;
        if (currentCardIndex < 0) {
            currentCardIndex = cards.length - 1;
        } else if (currentCardIndex >= cards.length) {
            currentCardIndex = 0;
        }
        updateSlider();
    }
    
    // Fungsi untuk membuat dots secara dinamis
    function createDots() {
        const sliderDotsContainer = document.getElementById('sliderDots');
        if (sliderDotsContainer) {
            sliderDotsContainer.innerHTML = '';
            cards.forEach((_, index) => {
                const dot = document.createElement('span');
                dot.classList.add('dot', 'w-2', 'h-2', 'bg-gray-600', 'rounded-full', 'transition-colors', 'cursor-pointer');
                dot.addEventListener('click', () => {
                    currentCardIndex = index;
                    updateSlider();
                });
                sliderDotsContainer.appendChild(dot);
            });
            dots = document.querySelectorAll('.dot');
            updateSlider();
        }
    }

    document.addEventListener('DOMContentLoaded', () => {
        cards = document.querySelectorAll('.payment-card-new');
        createDots();
    });

    document.getElementById('convertBtn').addEventListener('click', convertQRIS);
    document.querySelector('.payment-button').addEventListener('click', openManualPaymentModal);
</script>
</body>
</html>
